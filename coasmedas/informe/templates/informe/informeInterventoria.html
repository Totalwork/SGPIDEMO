{% extends 'page.html' %}
{% load static %}


{% block title %}Informe de interventoria{% endblock title%}

{% block opciones_listado %}{% endblock opciones_listado %}  

{% block mapa %}

  <li><a href="{% url 'usuario.index' %}"><i class="glyphicon glyphicon-home"></i></a></li>
  <li><a href="{% url 'usuario.index' %}">Inicio</a></li>
  <li><a href="../informe/">Informe</a></li>
  <li class="active">Informe de Interventoria</li>
{% endblock mapa %}
{% block encabezado %}{% endblock encabezado %}

{% block busqueda %}{% endblock busqueda %}

{% block contenido %}

<div class="row" >
  <div class="col-lg-12">        
    <div class="panel panel-sky" >
      <div class="panel-heading">
        <a href="../informe/" data-placement="right"  
            data-toggle="tooltip" data-original-title="Regresar a las opciones de informe general">
            <i class="fa fa-arrow-left" style="font-size: 20px;"></i>
        </a> 
        Informe de Interventoria
      </div>
      <div class="panel-body">

        <div class="form-group col-lg-6">
        <!-- INICIA FORMULARIO -->
            <div class="form-group col-lg-12">
              <label>(*) Contrato de interventoria </label>
              <select class="form-control" data-bind="value: interventoriaVO.contrato"  >
                  <option value="">Seleccione...</option>        
                  <!--ko foreach: { data:listado_contrato , as:'item'}-->        
                    <option data-bind="value:id, text:nombre"></option>
                  <!-- /ko -->
              </select>     
            </div>

            <div class="form-group col-lg-12">          
              <label>(*) AÃ±o</label>
              <input type="text" placeholder="AAAA" class="form-control" data-bind='onlyNumber: interventoriaVO.ano ,value:interventoriaVO.ano'>  
            </div>                            

            <div class="form-group col-lg-12">          
              <label>(*) Fecha</label>
              <select class="form-control" data-bind="value: interventoriaVO.fecha"  >
                  <option value="">Seleccione...</option>               
                  <option data-bind="value:1, text:'Enero'"></option>
                  <option data-bind="value:2, text:'Febrero'"></option>
                  <option data-bind="value:3, text:'Marzo'"></option>
                  <option data-bind="value:4, text:'Abril'"></option>
                  <option data-bind="value:5, text:'Mayo'"></option>
                  <option data-bind="value:6, text:'Junio'"></option>
                  <option data-bind="value:7, text:'Julio'"></option>
                  <option data-bind="value:8, text:'Agosto'"></option>
                  <option data-bind="value:9, text:'Septiembre'"></option>
                  <option data-bind="value:10, text:'Octubre'"></option>
                  <option data-bind="value:11, text:'Noviembre'"></option>
                  <option data-bind="value:12, text:'Diciembre'"></option>
              </select>   
            </div>

            <div class="form-group col-lg-12">
              <label>(*) Firma</label>            
              <select class="form-control form-group" data-bind='value:interventoriaVO.firma' > 
                <option value="">Seleccione el funcionario...</option> 
                <!--ko foreach: { data:listado_funcionarios_firma , as:'item'}-->        
                  <option data-bind="value:item.id, text: item.persona.nombres+' '+item.persona.apellidos "></option>
                <!-- /ko --> 
              </select>  
            </div>
                    
        <!-- FINALIZA FORMULARIO --> 
        </div>       
      </div>
      <div class="modal-footer col-sm-3">
        <button type="button" class="btn btn-primary" data-bind="click:generar_informe_interventoria">Generar</button>
      </div>
    </div>
  </div>
</div>
<!--Modal-->

  

{% endblock contenido %}

{% load static %}

{%block imports %}
  <script src='{% static "js/plugins/moment/moment.min.js" %}'></script>
  <script type="text/javascript" src='{% static "js/plugins/datepicker/js/bootstrap-datetimepicker.js" %}'></script>
  <script type="text/javascript" src='{% static "js/plugins/fileInput/fileinput.js" %}'></script>
  <script type="text/javascript" src='{% static "js/ViewModels/informe/informe.js" %}'></script>
  <script type="text/javascript">
    $(document).ready(function () {

      informe.consultar_funcionarios_firma();
      informe.consultar_contratos_interventoria();
    });  
  </script>
{% endblock imports %}